{
    "copy-from-recipe": {
        "config/": "%CONFIG_DIR%/"
    },
    "docker-compose": {
        "docker-compose.yml": {
            "services": [
                "web:",
                "  image: ghcr.io/shopware/docker-dev:php8.3-node22-caddy",
                "  ports:",
                "    - 8000:8000",
                "    - 8080:8080",
                "    - 9999:9999",
                "    - 9998:9998",
                "    - 5173:5173",
                "    - 5773:5773",
                "  environment:",
                "    APP_ENV: ${APP_ENV-dev}",
                "    HOST: 0.0.0.0",
                "    APP_URL: http://localhost:8000",
                "    DATABASE_URL: mysql://root:root@database/shopware",
                "    MAILER_DSN: smtp://mailer:1025",
                "  volumes:",
                "    - .:/var/www/html",
                "  depends_on:",
                "    database:",
                "      condition: service_healthy",
                "",
                "minio:",
                "  image: minio/minio",
                "  command: server /data --console-address \":9001\"",
                "  environment:",
                "    MINIO_ROOT_USER: minioadmin",
                "    MINIO_ROOT_PASSWORD: minioadmin",
                "  healthcheck:",
                "    test: [\"CMD\", \"mc\", \"ready\", \"local\"]",
                "    start_period: 20s",
                "    start_interval: 10s",
                "    interval: 1m",
                "    timeout: 20s",
                "    retries: 3",
                "  ports:",
                "    - 9000:9000",
                "    - 9001:9001",
                "  volumes:",
                "    - minio-data:/data",
                "",
                "minio-setup:",
                "  image: minio/mc",
                "  depends_on:",
                "    minio:",
                "      condition: service_healthy",
                "  entrypoint: >",
                "    /bin/sh -c \"",
                "      set -e;",
                "      mc alias set local http://minio:9000 minioadmin minioadmin;",
                "      mc mb local/shopware-public local/shopware-private --ignore-existing;",
                "      mc anonymous set download local/shopware-public;",
                "      \"",
                "  restart: no"
            ],
            "volumes": ["minio-data:"]
        }
    },
    "makefile": [
        "up:",
        "\tdocker compose up -d",
        "stop:",
        "\tdocker compose stop",
        "down:",
        "\tdocker compose down",
        "shell:",
        "\tdocker compose exec web bash",
        "watch-storefront:",
        "\tdocker compose exec -e PROXY_URL=http://localhost:9998 web ./bin/watch-storefront.sh",
        "watch-admin:",
        "\tdocker compose exec web ./bin/watch-administration.sh",
        "build-storefront:",
        "\tdocker compose exec web ./bin/build-storefront.sh",
        "build-administration:",
        "\tdocker compose exec web ./bin/build-administration.sh",
        "setup:",
        "\tdocker compose exec web bin/console system:install --basic-setup --create-database --drop-database --force"
    ]
}
